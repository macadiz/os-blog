<div class="themed-surface overflow-hidden shadow-theme rounded-lg h-full flex flex-col">
  <div class="p-5 flex-1">
    <div class="flex items-center">
      <div class="flex-shrink-0">
        <span class="material-symbols-outlined h-6 w-6 themed-text-secondary text-xl">{{
          stat.icon
        }}</span>
      </div>
      <div class="ml-5 w-0 flex-1">
        <dl>
          <dt class="text-sm font-medium themed-text-secondary truncate">
            {{ stat.title }}
          </dt>
          <dd class="text-lg font-medium themed-text">
            {{ stat.value }}
          </dd>
          <!-- Reserve space for subtitle even if empty -->
          <dd class="text-xs themed-text-secondary min-h-[1rem]">
            {{ stat.subtitle || "" }}
          </dd>
        </dl>
      </div>
    </div>
  </div>
  <!-- Always render footer section to maintain consistent height -->
  <div
    [ngClass]="{
      'bg-theme-border px-5 py-3 flex-shrink-0': true,
      'bg-transparent': !(stat.linkUrl && stat.linkText),
    }"
  >
    <div class="text-sm min-h-[1.25rem]">
      <a
        *ngIf="stat.linkUrl && stat.linkText"
        [routerLink]="stat.linkUrl"
        class="font-medium themed-accent hover:text-theme-accent-hover"
      >
        {{ stat.linkText }}
      </a>
    </div>
  </div>
</div>
