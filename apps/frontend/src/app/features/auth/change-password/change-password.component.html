<div
  class="min-h-screen flex items-center justify-center themed-bg py-12 px-4 sm:px-6 lg:px-8"
>
  <div class="max-w-md w-full space-y-8">
    <ui-card variant="elevated" size="lg">
      <div class="text-center mb-6">
        <h2 class="text-3xl font-bold themed-text">Change Your Password</h2>
        <p class="mt-2 text-sm themed-text-secondary">
          For security reasons, you must change your password before continuing.
        </p>
      </div>

    <form
      [formGroup]="passwordForm"
      (ngSubmit)="onSubmit()"
      class="mt-8 space-y-6"
    >
      <!-- Current Password -->
      <div>
        <label
          for="currentPassword"
          class="block text-sm font-medium themed-text mb-2"
        >
          Current Password
        </label>
        <ui-input
          id="currentPassword"
          formControlName="currentPassword"
          type="password"
          placeholder="Enter your current password"
          [state]="isFieldInvalid('currentPassword') ? 'error' : 'default'"
          [errorMessage]="getFieldError('currentPassword')"
        ></ui-input>
      </div>

      <!-- New Password -->
      <div>
        <label
          for="newPassword"
          class="block text-sm font-medium themed-text mb-2"
        >
          New Password
        </label>
        <ui-input
          id="newPassword"
          formControlName="newPassword"
          type="password"
          placeholder="Enter your new password"
          [state]="isFieldInvalid('newPassword') ? 'error' : 'default'"
          [errorMessage]="getFieldError('newPassword')"
          helpText="Password must be at least 8 characters long."
        ></ui-input>
      </div>

      <!-- Confirm Password -->
      <div>
        <label
          for="confirmPassword"
          class="block text-sm font-medium themed-text mb-2"
        >
          Confirm New Password
        </label>
        <ui-input
          id="confirmPassword"
          formControlName="confirmPassword"
          type="password"
          placeholder="Confirm your new password"
          [state]="isFieldInvalid('confirmPassword') ? 'error' : 'default'"
          [errorMessage]="getFieldError('confirmPassword')"
        ></ui-input>
      </div>

      <!-- Error Message -->
      <div
        *ngIf="errorMessage"
        class="bg-red-50 border border-red-200 rounded-md p-4"
      >
        <div class="flex">
          <div class="flex-shrink-0">
            <span class="material-symbols-outlined text-red-400">error</span>
          </div>
          <div class="ml-3">
            <p class="text-sm text-red-600">{{ errorMessage }}</p>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div>
        <ui-button
          type="submit"
          [disabled]="passwordForm.invalid || isLoading"
          variant="primary"
          size="lg"
          [loading]="isLoading"
          class="w-full"
        >
          {{ isLoading ? "Changing Password..." : "Change Password" }}
        </ui-button>
      </div>

      <!-- Warning -->
      <div class="bg-yellow-50 border border-yellow-200 rounded-md p-4">
        <div class="flex">
          <div class="flex-shrink-0">
            <span class="material-symbols-outlined text-yellow-400"
              >warning</span
            >
          </div>
          <div class="ml-3">
            <p class="text-sm text-yellow-700">
              You cannot access other parts of the application until you change
              your password.
            </p>
          </div>
        </div>
      </div>
    </form>
    </ui-card>
  </div>
</div>
